<Page
    x:Class="MTM_Receiving_Application.Module_Receiving.Views.Wizard.Orchestration.View_Receiving_Wizard_Orchestration_MainWorkflow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource LayerFillColorDefaultBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Step Indicator Header -->
        <Border Grid.Row="0" 
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="0,0,0,1"
                Padding="32,24">
            <StackPanel Orientation="Horizontal" Spacing="32" HorizontalAlignment="Center">
                <!-- Step 1 Indicator -->
                <StackPanel Orientation="Horizontal" Spacing="12">
                    <Border
                        x:Name="Step1Circle"
                        Background="{ThemeResource AccentFillColorDefaultBrush}"
                        CornerRadius="24"
                        Width="48"
                        Height="48">
                        <TextBlock
                            Text="1"
                            Foreground="White"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            FontWeight="Bold"
                            FontSize="20" />
                    </Border>
                    <StackPanel VerticalAlignment="Center" Spacing="2">
                        <TextBlock Text="Order &amp; Part" FontSize="14" FontWeight="SemiBold" />
                        <TextBlock Text="PO, Part, Load Count" FontSize="11" Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    </StackPanel>
                </StackPanel>

                <!-- Arrow 1 -->
                <FontIcon Glyph="&#xE76C;" FontSize="20" Foreground="{ThemeResource TextFillColorTertiaryBrush}" VerticalAlignment="Center" />

                <!-- Step 2 Indicator -->
                <StackPanel Orientation="Horizontal" Spacing="12">
                    <Border
                        x:Name="Step2Circle"
                        Background="{ThemeResource ControlFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource ControlStrokeColorDefaultBrush}"
                        BorderThickness="2"
                        CornerRadius="24"
                        Width="48"
                        Height="48">
                        <TextBlock
                            Text="2"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            FontWeight="Bold"
                            FontSize="20" />
                    </Border>
                    <StackPanel VerticalAlignment="Center" Spacing="2">
                        <TextBlock Text="Load Details" FontSize="14" FontWeight="SemiBold" />
                        <TextBlock Text="Quantities &amp; Specs" FontSize="11" Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    </StackPanel>
                </StackPanel>

                <!-- Arrow 2 -->
                <FontIcon Glyph="&#xE76C;" FontSize="20" Foreground="{ThemeResource TextFillColorTertiaryBrush}" VerticalAlignment="Center" />

                <!-- Step 3 Indicator -->
                <StackPanel Orientation="Horizontal" Spacing="12">
                    <Border
                        x:Name="Step3Circle"
                        Background="{ThemeResource ControlFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource ControlStrokeColorDefaultBrush}"
                        BorderThickness="2"
                        CornerRadius="24"
                        Width="48"
                        Height="48">
                        <TextBlock
                            Text="3"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            FontWeight="Bold"
                            FontSize="20" />
                    </Border>
                    <StackPanel VerticalAlignment="Center" Spacing="2">
                        <TextBlock Text="Review &amp; Save" FontSize="14" FontWeight="SemiBold" />
                        <TextBlock Text="Confirm &amp; Archive" FontSize="11" Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Step Content Area with Card Background -->
        <Border Grid.Row="1" 
                Background="{ThemeResource LayerFillColorDefaultBrush}"
                Padding="32,24">
            <Border
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8"
                Padding="0">
                <Frame x:Name="StepContentFrame" />
            </Border>
        </Border>

        <!-- Navigation Footer -->
        <Border Grid.Row="2" 
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="0,1,0,0"
                Padding="32,20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!-- Left side - Cancel button -->
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <Button
                        Content="Cancel Workflow"
                        Click="OnCancelWorkflow">
                        <Button.Resources>
                            <SolidColorBrush x:Key="ButtonForeground" Color="#D32F2F" />
                            <SolidColorBrush x:Key="ButtonForegroundPointerOver" Color="#D32F2F" />
                            <SolidColorBrush x:Key="ButtonForegroundPressed" Color="#B71C1C" />
                        </Button.Resources>
                    </Button>
                </StackPanel>

                <!-- Right side - Navigation buttons -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12">
                    <Button
                        x:Name="PreviousButton"
                        Click="OnNavigatePrevious"
                        IsEnabled="False"
                        MinWidth="120">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE76B;" FontSize="16" />
                            <TextBlock Text="Previous" VerticalAlignment="Center" />
                        </StackPanel>
                    </Button>

                    <Button
                        x:Name="NextButton"
                        Click="OnNavigateNext"
                        Style="{StaticResource AccentButtonStyle}"
                        MinWidth="120">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="Next" VerticalAlignment="Center" />
                            <FontIcon Glyph="&#xE76C;" FontSize="16" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Page>
