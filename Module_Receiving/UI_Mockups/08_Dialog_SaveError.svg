<svg width="1400" height="900" xmlns="http://www.w3.org/2000/svg">
  <!-- Background with semi-transparent overlay -->
  <rect width="1400" height="900" fill="#F3F3F3"/>
  
  <!-- MainWindow Title Bar (dimmed) -->
  <rect x="0" y="0" width="1400" height="48" fill="#202020" opacity="0.6"/>
  
  <!-- Navigation Pane (dimmed) -->
  <rect x="0" y="48" width="280" height="852" fill="#F9F9F9" opacity="0.6"/>
  
  <!-- Main Content Area (dimmed) -->
  <rect x="280" y="48" width="1120" height="852" fill="#FFFFFF" opacity="0.6"/>
  
  <!-- Step 3 Review Screen (dimmed) -->
  <g opacity="0.4">
    <rect x="340" y="200" width="1000" height="500" fill="#FAFAFA" stroke="#D1D1D1" stroke-width="1"/>
    <text x="640" y="450" font-family="Segoe UI" font-size="18" fill="#666666" text-anchor="middle">Review Summary</text>
  </g>
  
  <!-- Modal Overlay -->
  <rect x="0" y="0" width="1400" height="900" fill="#000000" opacity="0.4"/>
  
  <!-- ContentDialog -->
  <g id="SaveErrorDialog" transform="translate(450, 250)">
    <!-- Dialog Background -->
    <rect x="0" y="0" width="500" height="400" fill="#FFFFFF" rx="8" filter="url(#shadow)"/>
    
    <!-- Dialog Header -->
    <rect x="0" y="0" width="500" height="60" fill="#F9F9F9" rx="8"/>
    <rect x="0" y="53" width="500" height="1" fill="#D1D1D1"/>
    <text x="30" y="38" font-family="Segoe UI" font-size="20" fill="#202020" font-weight="600">Save Failed</text>
    
    <!-- Close Button -->
    <rect x="455" y="15" width="30" height="30" fill="transparent" rx="4"/>
    <text x="470" y="35" font-family="Segoe MDL2 Assets" font-size="16" fill="#666666" text-anchor="middle">&#xE711;</text>
    
    <!-- Dialog Content -->
    <g transform="translate(30, 80)">
      <!-- Error Icon -->
      <circle cx="20" cy="20" r="30" fill="#FDE7E9" stroke="#D13438" stroke-width="2"/>
      <text x="20" y="32" font-family="Segoe MDL2 Assets" font-size="32" fill="#D13438" text-anchor="middle">&#xE711;</text>
      
      <!-- Error Message -->
      <text x="70" y="22" font-family="Segoe UI" font-size="16" fill="#202020" font-weight="600">Unable to save transaction</text>
      <text x="70" y="48" font-family="Segoe UI" font-size="14" fill="#666666">An error occurred while saving to the database.</text>
    </g>
    
    <!-- Error Details -->
    <g transform="translate(30, 160)">
      <rect x="0" y="0" width="440" height="100" fill="#FDE7E9" stroke="#D13438" stroke-width="1" rx="4"/>
      
      <text x="15" y="25" font-family="Segoe UI" font-size="13" fill="#202020" font-weight="600">Error Details:</text>
      <text x="15" y="48" font-family="Segoe UI Mono" font-size="11" fill="#666666">Connection to database server timed out after 30 seconds.</text>
      <text x="15" y="68" font-family="Segoe UI Mono" font-size="11" fill="#666666">Server: mysql-server.local:3306</text>
      <text x="15" y="88" font-family="Segoe UI Mono" font-size="11" fill="#666666">Database: mtm_receiving</text>
    </g>
    
    <!-- Log File Info -->
    <g transform="translate(30, 280)">
      <rect x="0" y="0" width="440" height="40" fill="#F3F3F3" stroke="#D1D1D1" stroke-width="1" rx="4"/>
      <text x="15" y="14" font-family="Segoe UI" font-size="12" fill="#666666">Error logged to:</text>
      <text x="15" y="30" font-family="Segoe UI" font-size="12" fill="#0078D4">C:\MTM_Receiving\Logs\errors_20260125.log</text>
    </g>
    
    <!-- Dialog Buttons -->
    <g transform="translate(30, 340)">
      <!-- Copy Error Button -->
      <rect x="190" y="0" width="90" height="40" fill="#FFFFFF" rx="4" stroke="#D1D1D1" stroke-width="1"/>
      <text x="235" y="26" font-family="Segoe UI" font-size="14" fill="#202020" text-anchor="middle">Copy Error</text>
      
      <!-- Close Button -->
      <rect x="290" y="0" width="70" height="40" fill="#FFFFFF" rx="4" stroke="#D1D1D1" stroke-width="1"/>
      <text x="325" y="26" font-family="Segoe UI" font-size="14" fill="#202020" text-anchor="middle">Close</text>
      
      <!-- Retry Button (Primary) -->
      <rect x="370" y="0" width="70" height="40" fill="#0078D4" rx="4"/>
      <text x="405" y="26" font-family="Segoe UI" font-size="14" fill="#FFFFFF" font-weight="600" text-anchor="middle">Retry</text>
    </g>
  </g>
  
  <!-- Shadow Filter Definition -->
  <defs>
    <filter id="shadow">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-opacity="0.3"/>
    </filter>
  </defs>
</svg>
