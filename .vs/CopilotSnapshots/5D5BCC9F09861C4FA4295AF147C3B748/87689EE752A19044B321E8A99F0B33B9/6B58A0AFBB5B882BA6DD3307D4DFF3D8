# Module Models Optimize + Test (Incremental)

You are GitHub Copilot operating inside the current solution (WinUI 3, .NET 8, C# 12, MVVM). Start fresh: assume no prior changes.

## Input
- Target module folder path: `<MODULE_FOLDER>` (example: `Module_Core`)

## Objective
Read the current **Models** in `<MODULE_FOLDER>` and propose **incremental optimizations** that do **not** require refactoring the entire codebase.
If `<MODULE_FOLDER>/SETTABLE_OBJECTS_REPORT.md` exists, incorporate it into the suggestions.
Then implement these changes **iteratively, one model file at a time**, updating/adding tests for each changed file, and **verify tests pass** after each iteration before moving to the next file.

## Non-negotiable constraints
- Follow `.editorconfig` formatting + C# style rules.
- Follow `.github/copilot-instructions.md` architecture rules.
- Prefer MCP tooling per `.github/instructions/mcp-tooling.instructions.md`.
- Do NOT introduce breaking changes across the codebase; prefer additive or backward-compatible changes.
- Avoid large refactors (no sweeping renames, no moving folders, no architecture rewrites).
- Do NOT add secrets/credentials to code. If encountered, recommend externalization but do not implement secret storage in this task unless it’s purely test-safe.
- Keep changes small and reviewable: each iteration should touch **one model file** (plus any tiny supporting file(s) if strictly necessary).

## Step 0 — Load required context with tools
1. Read `.github/copilot-instructions.md`.
2. Read `.editorconfig`.
3. If present, read `<MODULE_FOLDER>/SETTABLE_OBJECTS_REPORT.md`.
4. Enumerate all files under `<MODULE_FOLDER>/Models/**.cs`.
5. Enumerate any existing tests for those models under `MTM_Receiving_Application.Tests`.
6. Read each model file fully.

## Step 1 — Produce tips + task list (before editing code)
Create:
1. A concise list of actionable optimization tips for the module’s models, explicitly referencing items from `SETTABLE_OBJECTS_REPORT.md` when present.
2. A prioritized task list (checkbox list) describing incremental changes to apply across the models. Each task must:
   - Name the exact file(s) targeted.
   - Describe the change in 1–3 sentences.
   - Explain why it’s low-risk and how it relates to `SETTABLE_OBJECTS_REPORT.md` (when present).

## Step 2 — Iterate changes “one model at a time”
For each iteration:
1. Pick the next model file from the prioritized task list (start with the highest-impact + least-risk item).
2. Explain the planned change briefly.
3. Make the code change in that model file. Keep the public surface area stable wherever possible (add new constants/helpers/properties rather than removing existing ones).
4. Update or create the corresponding unit test file in `MTM_Receiving_Application.Tests`:
   - Use xUnit + FluentAssertions.
   - Match existing test folder conventions.
   - Ensure tests validate the new behavior or guard against regressions.
5. Run tests (`dotnet test`) and report results:
   - If failing: show the failure summary and fix the code/tests, then rerun.
   - Only proceed when green.
6. Mark the iteration complete and move to the next model file.

## Step 3 — Completion criteria
Stop when:
- All high-priority model improvements from the task list are implemented **or**
- You reach a point where the next change would require a broad refactor (in that case: stop and explain why, and propose a future refactor path).

## Output format requirements
- Use Markdown.
- Any Visual Studio command/setting names must be wrapped like `__CommandName__`.
- For code blocks that belong in the codebase, use:
  - First line: `<relative path>`
  - Next lines: code
- Keep each step concise and impersonal.

Begin now with `<MODULE_FOLDER>`.
