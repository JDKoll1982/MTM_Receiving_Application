<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MTM Receiving Application - Mockup</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <h1>MTM Receiving Application</h1>
            <div class="status-bar">
                <span id="currentStep">Step 1: PO Entry</span>
                <span id="sessionInfo">Session: New</span>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="app-main">
            <!-- Step 1: PO Entry -->
            <div id="step1" class="step-container active">
                <h2>Step 1: PO Entry</h2>
                <div class="form-group">
                    <label for="poNumber">PO Number (6 digits):</label>
                    <input type="text" id="poNumber" maxlength="6" placeholder="Enter PO number">
                    <button id="loadPOBtn" class="btn btn-primary">Load PO</button>
                    <button id="nonPOBtn" class="btn btn-secondary">Non-PO Item</button>
                </div>
                <div id="poResults" class="results-container hidden">
                    <h3>Parts Found:</h3>
                    <table id="partsTable" class="data-table">
                        <thead>
                            <tr>
                                <th>Select</th>
                                <th>Part ID</th>
                                <th>PO Line#</th>
                                <th>Part Type</th>
                                <th>Qty Ordered</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody id="partsTableBody"></tbody>
                    </table>
                </div>
                <div id="nonPOForm" class="form-container hidden">
                    <h3>Non-PO Item Entry</h3>
                    <div class="form-group">
                        <label for="partID">Part ID:</label>
                        <input type="text" id="partID" placeholder="Enter part ID">
                        <button id="lookupPartBtn" class="btn btn-primary">Look Up Part</button>
                    </div>
                    <div id="partDetails" class="details-box hidden">
                        <p><strong>Part Type:</strong> <span id="partType"></span></p>
                        <p><strong>Description:</strong> <span id="partDescription"></span></p>
                        <button id="continueFromNonPO" class="btn btn-primary">Continue</button>
                    </div>
                </div>
            </div>

            <!-- Step 2: Load Number / Skid Amount -->
            <div id="step2" class="step-container hidden">
                <h2>Step 2: Load Number / Skid Amount</h2>
                <div class="selected-part-info">
                    <p><strong>Selected Part:</strong> <span id="selectedPartID"></span></p>
                    <p><strong>PO Line#:</strong> <span id="selectedPOLine"></span></p>
                </div>
                <div class="form-group">
                    <label for="numLoads">Number of Loads (1-99):</label>
                    <input type="number" id="numLoads" min="1" max="99" value="1">
                    <button id="createLoadsBtn" class="btn btn-primary">Continue</button>
                </div>
            </div>

            <!-- Step 3: Weight / Quantity Entry -->
            <div id="step3" class="step-container hidden">
                <h2>Step 3: Weight / Quantity</h2>
                <div id="weightQuantityForm" class="loads-form"></div>
                <button id="continueToHeatBtn" class="btn btn-primary" disabled>Continue to Heat/Lot#</button>
            </div>

            <!-- Step 4: Heat / Lot# Entry -->
            <div id="step4" class="step-container hidden">
                <h2>Step 4: Heat / Lot#</h2>
                <div class="quick-select-container">
                    <h3>Quick Select Heat/Lot Numbers:</h3>
                    <div id="quickSelectList" class="quick-select-list"></div>
                </div>
                <div id="heatLotForm" class="loads-form"></div>
                <button id="continueToPackagesBtn" class="btn btn-primary">Continue to Package Types</button>
            </div>

            <!-- Step 5: Package Type per Load -->
            <div id="step5" class="step-container hidden">
                <h2>Step 5: Package Type per Load</h2>
                <div id="packageForm" class="loads-form"></div>
                <button id="continueToReviewBtn" class="btn btn-primary">Continue to Review</button>
            </div>

            <!-- Step 6: Review Grid -->
            <div id="step6" class="step-container hidden">
                <h2>Step 6: Review & Edit</h2>
                <p class="info-text">Edit any field below. Changes to Part# or PO# will update all matching loads.</p>
                <div class="table-wrapper">
                    <table id="reviewGrid" class="data-table editable-grid">
                        <thead>
                            <tr>
                                <th>Part#</th>
                                <th>PO#</th>
                                <th>PO-Line#</th>
                                <th>Load#</th>
                                <th>Weight/Qty</th>
                                <th>Heat/Lot#</th>
                                <th>Packages</th>
                                <th>Package Type</th>
                                <th>Weight per Package</th>
                            </tr>
                        </thead>
                        <tbody id="reviewGridBody"></tbody>
                    </table>
                </div>
                <div class="button-group">
                    <button id="addAnotherPartBtn" class="btn btn-secondary">Add Another Part/PO</button>
                    <button id="saveDataBtn" class="btn btn-primary">Save to CSV & Database</button>
                </div>
            </div>

            <!-- Step 7: Save Progress -->
            <div id="step7" class="step-container hidden">
                <h2>Step 7: Saving Data</h2>
                <div class="progress-container">
                    <div class="progress-item">
                        <span class="progress-label">Local CSV:</span>
                        <div class="progress-bar">
                            <div id="progressLocal" class="progress-fill"></div>
                        </div>
                        <span id="statusLocal" class="status-text">Pending...</span>
                    </div>
                    <div class="progress-item">
                        <span class="progress-label">Network CSV:</span>
                        <div class="progress-bar">
                            <div id="progressNetwork" class="progress-fill"></div>
                        </div>
                        <span id="statusNetwork" class="status-text">Pending...</span>
                    </div>
                    <div class="progress-item">
                        <span class="progress-label">MySQL Database:</span>
                        <div class="progress-bar">
                            <div id="progressDatabase" class="progress-fill"></div>
                        </div>
                        <span id="statusDatabase" class="status-text">Pending...</span>
                    </div>
                </div>
            </div>

            <!-- Step 8: Save Complete -->
            <div id="step8" class="step-container hidden">
                <h2>Save Complete!</h2>
                <div class="success-message">
                    <p class="success-icon">âœ“</p>
                    <h3>Data Saved Successfully</h3>
                    <div class="save-summary">
                        <p><strong>Total Loads Saved:</strong> <span id="totalLoads"></span></p>
                        <p><strong>Local CSV:</strong> <span id="localCSVPath">%APPDATA%\ReceivingData.csv</span></p>
                        <p><strong>Network CSV:</strong> <span id="networkCSVPath">\\mtmanu-fs01\...\JKOLL\ReceivingData.csv</span></p>
                        <p><strong>Database:</strong> MySQL - receiving_loads table</p>
                    </div>
                    <div class="button-group">
                        <button id="newEntryBtn" class="btn btn-primary">Start New Entry</button>
                        <button id="viewHistoryBtn" class="btn btn-secondary">View History</button>
                        <button id="printLabelsBtn" class="btn btn-secondary">Print Labels</button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Status Messages -->
        <div id="statusMessages" class="status-messages"></div>

        <!-- Modal Dialog -->
        <div id="modal" class="modal hidden">
            <div class="modal-content">
                <h3 id="modalTitle"></h3>
                <p id="modalMessage"></p>
                <div class="modal-buttons">
                    <button id="modalConfirm" class="btn btn-primary">Confirm</button>
                    <button id="modalCancel" class="btn btn-secondary">Cancel</button>
                </div>
            </div>
        </div>

        <!-- CSV Reset Dialog (shown on startup) -->
        <div id="csvResetDialog" class="modal hidden">
            <div class="modal-content">
                <h3>Reset CSV Files?</h3>
                <p>Do you want to reset the CSV files? This will delete existing data and make previous entries unprintable.</p>
                <div class="modal-buttons">
                    <button id="resetYesBtn" class="btn btn-danger">Yes, Reset</button>
                    <button id="resetNoBtn" class="btn btn-primary">No, Continue</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
