<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conflict Resolution - MTM Waitlist</title>
    <link rel="stylesheet" href="assets/styles.css">
</head>
<body>
    <div class="window" style="max-width: 800px;">
        <div class="window-header" style="background: #FFF4CE; border-bottom-color: #FCE100;">
            <h1 class="window-title" style="color: #8A6700;">⚠ Sync Conflict Detected</h1>
            <button class="window-close" onclick="window.location.href='3_sync_dashboard.html'">✕</button>
        </div>
        
        <div class="window-content">
            <div style="background: #FFF4CE; padding: 16px; border-radius: 8px; margin-bottom: 24px; border-left: 4px solid #FCE100;">
                <p style="margin: 0; color: #8A6700;">
                    <strong>Entry #101 (Acme Corp - PO #12345)</strong> has been modified in both the Waitlist 
                    and LeanKit since the last sync. Please choose which version to keep.
                </p>
            </div>
            
            <!-- Waitlist Version -->
            <section class="section" style="border: 2px solid var(--color-border); position: relative;">
                <div style="position: absolute; top: -12px; left: 16px; background: white; padding: 0 8px; font-size: 12px; font-weight: 600; color: var(--color-primary);">
                    WAITLIST VERSION
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px; margin-top: 12px;">
                    <div>
                        <div style="font-size: 12px; color: var(--color-text-secondary); margin-bottom: 4px;">Status</div>
                        <div><span class="badge badge-info">In Progress</span></div>
                    </div>
                    <div>
                        <div style="font-size: 12px; color: var(--color-text-secondary); margin-bottom: 4px;">Priority</div>
                        <div><span class="badge badge-error">High</span></div>
                    </div>
                </div>
                
                <div style="margin-bottom: 16px;">
                    <div style="font-size: 12px; color: var(--color-text-secondary); margin-bottom: 4px;">Description</div>
                    <div style="padding: 12px; background: var(--color-bg-secondary); border-radius: 4px; font-size: 14px;">
                        Updated with customer feedback. Customer requested expedited delivery 
                        due to production scheduling changes. Coordinating with logistics team 
                        for priority shipping options.
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                    <div>
                        <div style="font-size: 12px; color: var(--color-text-secondary); margin-bottom: 4px;">Modified</div>
                        <div style="font-weight: 600;">2026-01-20 10:50 AM</div>
                        <div style="font-size: 12px; color: var(--color-text-secondary);">(2 minutes ago)</div>
                    </div>
                    <div>
                        <div style="font-size: 12px; color: var(--color-text-secondary); margin-bottom: 4px;">Modified By</div>
                        <div style="font-weight: 600;">John Smith</div>
                        <div style="font-size: 12px; color: var(--color-text-secondary);">Waitlist Application</div>
                    </div>
                </div>
                
                <div>
                    <label style="display: flex; align-items: center; padding: 12px; background: var(--color-bg-secondary); border-radius: 4px; cursor: pointer;">
                        <input type="radio" name="conflict-resolution" value="waitlist" style="margin-right: 12px;" />
                        <span style="font-weight: 600;">Keep this version</span>
                    </label>
                </div>
            </section>
            
            <!-- LeanKit Version -->
            <section class="section" style="border: 2px solid var(--color-primary); position: relative; margin-top: 24px;">
                <div style="position: absolute; top: -12px; left: 16px; background: white; padding: 0 8px; font-size: 12px; font-weight: 600; color: var(--color-primary);">
                    LEANKIT VERSION
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px; margin-top: 12px;">
                    <div>
                        <div style="font-size: 12px; color: var(--color-text-secondary); margin-bottom: 4px;">Status</div>
                        <div><span class="badge badge-warning">On Hold</span></div>
                        <div style="font-size: 12px; color: var(--color-text-secondary); margin-top: 4px;">
                            (Moved to "Blocked" lane)
                        </div>
                    </div>
                    <div>
                        <div style="font-size: 12px; color: var(--color-text-secondary); margin-bottom: 4px;">Priority</div>
                        <div><span class="badge badge-warning">Medium</span></div>
                    </div>
                </div>
                
                <div style="margin-bottom: 16px;">
                    <div style="font-size: 12px; color: var(--color-text-secondary); margin-bottom: 4px;">Description</div>
                    <div style="padding: 12px; background: var(--color-bg-secondary); border-radius: 4px; font-size: 14px;">
                        Waiting for material availability. Supplier informed us of 2-week delay 
                        on key components. Production cannot proceed until parts arrive. 
                        Estimated delivery: Feb 5, 2026.
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                    <div>
                        <div style="font-size: 12px; color: var(--color-text-secondary); margin-bottom: 4px;">Modified</div>
                        <div style="font-weight: 600;">2026-01-20 10:48 AM</div>
                        <div style="font-size: 12px; color: var(--color-text-secondary);">(4 minutes ago)</div>
                    </div>
                    <div>
                        <div style="font-size: 12px; color: var(--color-text-secondary); margin-bottom: 4px;">Modified By</div>
                        <div style="font-weight: 600;">Jane Doe</div>
                        <div style="font-size: 12px; color: var(--color-text-secondary);">via LeanKit</div>
                    </div>
                </div>
                
                <div>
                    <label style="display: flex; align-items: center; padding: 12px; background: #E1F5FE; border-radius: 4px; cursor: pointer;">
                        <input type="radio" name="conflict-resolution" value="leankit" checked style="margin-right: 12px;" />
                        <span style="font-weight: 600;">Keep this version (Recommended)</span>
                    </label>
                </div>
            </section>
            
            <!-- Resolution Options -->
            <section class="section" style="margin-top: 24px;">
                <h3 style="margin-bottom: 12px;">Resolution Options</h3>
                <div>
                    <label style="display: flex; align-items: center; margin-bottom: 8px;">
                        <input type="checkbox" id="merge-changes" style="margin-right: 8px;" />
                        <span>Merge changes (keep newest data for each field)</span>
                    </label>
                    <label style="display: flex; align-items: center;">
                        <input type="checkbox" id="remember-choice" style="margin-right: 8px;" />
                        <span>Remember my choice for future conflicts (Last-Write-Wins)</span>
                    </label>
                </div>
            </section>
            
            <!-- Conflict Details -->
            <details style="margin-top: 16px;">
                <summary style="cursor: pointer; font-weight: 600; padding: 12px; background: var(--color-bg-secondary); border-radius: 4px;">
                    View Detailed Field Comparison
                </summary>
                <div class="table-container" style="margin-top: 12px;">
                    <table>
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Waitlist Value</th>
                                <th>LeanKit Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="background: #FFF4CE;">
                                <td><strong>Status</strong></td>
                                <td>In Progress</td>
                                <td style="color: var(--color-primary); font-weight: 600;">On Hold</td>
                            </tr>
                            <tr style="background: #FFF4CE;">
                                <td><strong>Priority</strong></td>
                                <td>High</td>
                                <td style="color: var(--color-primary); font-weight: 600;">Medium</td>
                            </tr>
                            <tr style="background: #FFF4CE;">
                                <td><strong>Description</strong></td>
                                <td>Updated with customer...</td>
                                <td style="color: var(--color-primary); font-weight: 600;">Waiting for material...</td>
                            </tr>
                            <tr>
                                <td>Customer</td>
                                <td>Acme Corp</td>
                                <td>Acme Corp</td>
                            </tr>
                            <tr>
                                <td>PO Number</td>
                                <td>PO #12345</td>
                                <td>PO #12345</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </details>
        </div>
        
        <div class="window-footer">
            <button class="btn-link" onclick="window.location.href='3_sync_dashboard.html'">Cancel</button>
            <button class="btn-secondary">View Diff</button>
            <button class="btn-primary" onclick="resolveConflict(document.querySelector('input[name=conflict-resolution]:checked').value)">
                Resolve Conflict
            </button>
        </div>
    </div>
    
    <script src="assets/scripts.js"></script>
</body>
</html>
