<UserControl
    x:Class="MTM_Receiving_Application.Views.Receiving.ManualEntryView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:CommunityToolkit.WinUI.UI.Controls"
    xmlns:viewmodels="using:MTM_Receiving_Application.ViewModels.Receiving"
    mc:Ignorable="d">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Toolbar -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Spacing="12" Margin="0,0,0,12">
            <Button Command="{x:Bind ViewModel.AddRowCommand}" Style="{StaticResource AccentButtonStyle}">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <FontIcon Glyph="&#xE710;"/>
                    <TextBlock Text="Add Row"/>
                </StackPanel>
            </Button>
            <Button Command="{x:Bind ViewModel.RemoveRowCommand}">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <FontIcon Glyph="&#xE74D;"/>
                    <TextBlock Text="Remove Row"/>
                </StackPanel>
            </Button>
        </StackPanel>

        <!-- Data Grid -->
        <controls:DataGrid Grid.Row="1"
                          ItemsSource="{Binding Loads}"
                          SelectedItem="{Binding SelectedLoad, Mode=TwoWay}"
                          AutoGenerateColumns="False"
                          IsReadOnly="False"
                          CanUserSortColumns="True"
                          GridLinesVisibility="All"
                          HeadersVisibility="Column"
                          SelectionMode="Single">
            <controls:DataGrid.Columns>
                <controls:DataGridTextColumn Header="PO Number" Binding="{Binding PoNumber}"/>
                <controls:DataGridTextColumn Header="Line #" Binding="{Binding PoLineNumber}"/>
                <controls:DataGridTextColumn Header="Part ID" Binding="{Binding PartID}"/>
                <controls:DataGridTextColumn Header="Part Type" Binding="{Binding PartType}"/>
                <controls:DataGridTextColumn Header="Load #" Binding="{Binding LoadNumber}"/>
                <controls:DataGridTextColumn Header="Weight/Qty" Binding="{Binding WeightQuantity}"/>
                <controls:DataGridTextColumn Header="Heat/Lot" Binding="{Binding HeatLotNumber}"/>
                <controls:DataGridTextColumn Header="Pkgs/Load" Binding="{Binding PackagesPerLoad}"/>
                <controls:DataGridTextColumn Header="Pkg Type" Binding="{Binding PackageTypeName}"/>
                <controls:DataGridTextColumn Header="Wt/Pkg" Binding="{Binding WeightPerPackage}"/>
                <controls:DataGridCheckBoxColumn Header="Non-PO" Binding="{Binding IsNonPOItem}"/>
            </controls:DataGrid.Columns>
        </controls:DataGrid>

        <!-- Navigation -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,12,0,0" Spacing="12">
            <Button Content="Save &amp; Finish" Command="{x:Bind ViewModel.SaveCommand}" Style="{StaticResource AccentButtonStyle}"/>
        </StackPanel>
    </Grid>
</UserControl>
