<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="MTM_Receiving_Application.Module_Routing.Views.RoutingModeSelectionView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:viewmodels="using:MTM_Receiving_Application.Module_Routing.ViewModels"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    Loaded="OnPageLoaded">

    <Grid Padding="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock 
            Grid.Row="0"
            Text="Select Routing Label Mode"
            Style="{StaticResource TitleTextBlockStyle}"
            Margin="0,0,0,24"/>

        <!-- Mode Selection Cards -->
        <StackPanel Grid.Row="1" Spacing="32" HorizontalAlignment="Center" VerticalAlignment="Center">
            <StackPanel Orientation="Horizontal" Spacing="24">
                
                <!-- Wizard Mode Column -->
                <StackPanel Spacing="12">
                    <Button 
                        Command="{x:Bind ViewModel.SelectWizardModeCommand}"
                        Width="280" Height="180"
                        Padding="20"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        AutomationProperties.Name="Wizard Mode">
                        <Grid RowSpacing="12">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <FontIcon 
                                Grid.Row="0"
                                Glyph="&#xE82D;"
                                FontSize="48"
                                Foreground="{ThemeResource AccentFillColorDefaultBrush}"/>

                            <TextBlock 
                                Grid.Row="1"
                                Text="Wizard Mode"
                                Style="{StaticResource SubtitleTextBlockStyle}"
                                TextAlignment="Center"/>

                            <TextBlock 
                                Grid.Row="2"
                                Text="Step-by-step guided workflow with Quick Add buttons. Ideal for single label creation."
                                TextWrapping="Wrap"
                                TextAlignment="Center"
                                FontSize="12"
                                Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>

                            <TextBlock 
                                Grid.Row="3"
                                Text="(Recommended)"
                                FontStyle="Italic"
                                FontSize="12"
                                TextAlignment="Center"
                                Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </Grid>
                    </Button>

                    <CheckBox 
                        Content="Set as default mode"
                        IsChecked="{x:Bind ViewModel.IsWizardDefault, Mode=TwoWay}"
                        Command="{x:Bind ViewModel.SetWizardAsDefaultCommand}"
                        CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}"
                        HorizontalAlignment="Center"/>
                </StackPanel>

                <!-- Manual Entry Column -->
                <StackPanel Spacing="12">
                    <Button 
                        Command="{x:Bind ViewModel.SelectManualEntryModeCommand}"
                        Width="280" Height="180"
                        Padding="20"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        AutomationProperties.Name="Manual Entry Mode">
                        <Grid RowSpacing="12">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <FontIcon 
                                Grid.Row="0"
                                Glyph="&#xE745;"
                                FontSize="48"
                                Foreground="{ThemeResource AccentFillColorDefaultBrush}"/>

                            <TextBlock 
                                Grid.Row="1"
                                Text="Manual Entry"
                                Style="{StaticResource SubtitleTextBlockStyle}"
                                TextAlignment="Center"/>

                            <TextBlock 
                                Grid.Row="2"
                                Text="Batch entry using editable grid. Ideal for creating multiple labels quickly."
                                TextWrapping="Wrap"
                                TextAlignment="Center"
                                FontSize="12"
                                Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </Grid>
                    </Button>

                    <CheckBox 
                        Content="Set as default mode"
                        IsChecked="{x:Bind ViewModel.IsManualDefault, Mode=TwoWay}"
                        Command="{x:Bind ViewModel.SetManualAsDefaultCommand}"
                        CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}"
                        HorizontalAlignment="Center"/>
                </StackPanel>

                <!-- Edit Mode Column -->
                <StackPanel Spacing="12">
                    <Button 
                        Command="{x:Bind ViewModel.SelectEditModeCommand}"
                        Width="280" Height="180"
                        Padding="20"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        AutomationProperties.Name="Edit Mode">
                        <Grid RowSpacing="12">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <FontIcon 
                                Grid.Row="0"
                                Glyph="&#xE104;"
                                FontSize="48"
                                Foreground="{ThemeResource AccentFillColorDefaultBrush}"/>

                            <TextBlock 
                                Grid.Row="1"
                                Text="Edit Mode"
                                Style="{StaticResource SubtitleTextBlockStyle}"
                                TextAlignment="Center"/>

                            <TextBlock 
                                Grid.Row="2"
                                Text="Search and edit existing labels. Supports reprinting and audit trail."
                                TextWrapping="Wrap"
                                TextAlignment="Center"
                                FontSize="12"
                                Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </Grid>
                    </Button>

                    <CheckBox 
                        Content="Set as default mode"
                        IsChecked="{x:Bind ViewModel.IsEditDefault, Mode=TwoWay}"
                        Command="{x:Bind ViewModel.SetEditAsDefaultCommand}"
                        CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}"
                        HorizontalAlignment="Center"/>
                </StackPanel>
            </StackPanel>
        </StackPanel>
    </Grid>
</Page>
